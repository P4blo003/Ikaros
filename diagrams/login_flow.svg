<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="804px" preserveAspectRatio="none" style="width:840px;height:804px;background:#FFFFFF;" version="1.1" viewBox="0 0 840 804" width="840px" zoomAndPan="magnify"><title>Flujo de login de Usuario</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="196.916" x="323.0139" y="27.9951">Flujo de login de Usuario</text><rect fill="none" height="337.5313" style="stroke:#000000;stroke-width:1.5;" width="652.4448" x="181.499" y="368.7891"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="604.7266" width="8" x="19.9551" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="23" x2="23" y1="118.5938" y2="723.3203"/></g><g><title>Client</title><rect fill="#000000" fill-opacity="0.00000" height="604.7266" width="8" x="214.7642" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="218.499" x2="218.499" y1="118.5938" y2="723.3203"/></g><g><title>APIGateway</title><rect fill="#000000" fill-opacity="0.00000" height="604.7266" width="8" x="386.4487" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="389.4521" x2="389.4521" y1="118.5938" y2="723.3203"/></g><g><title>AUTH</title><rect fill="#000000" fill-opacity="0.00000" height="604.7266" width="8" x="558.1333" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="561.6816" x2="561.6816" y1="118.5938" y2="723.3203"/></g><g><title>USERS</title><rect fill="#000000" fill-opacity="0.00000" height="604.7266" width="8" x="720.6899" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="724.3931" x2="724.3931" y1="118.5938" y2="723.3203"/></g><g><title>TOKENS</title><rect fill="#000000" fill-opacity="0.00000" height="604.7266" width="8" x="788.4653" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="791.9868" x2="791.9868" y1="118.5938" y2="723.3203"/></g><g class="participant participant-head" data-participant="user"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="5" y="115.292">User</text><ellipse cx="23.9551" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.9551,58.7969 L23.9551,85.7969 M10.9551,66.7969 L36.9551,66.7969 M23.9551,85.7969 L10.9551,100.7969 M23.9551,85.7969 L36.9551,100.7969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="user"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="5" y="735.3154">User</text><ellipse cx="23.9551" cy="747.1172" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.9551,755.1172 L23.9551,782.1172 M10.9551,763.1172 L36.9551,763.1172 M23.9551,782.1172 L10.9551,797.1172 M23.9551,782.1172 L36.9551,797.1172" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="client"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="54.5303" x="191.499" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.5303" x="198.499" y="107.292">Client</text></g><g class="participant participant-tail" data-participant="client"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="54.5303" x="191.499" y="722.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.5303" x="198.499" y="742.3154">Client</text></g><g class="participant participant-head" data-participant="gateway"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.9932" x="341.4521" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.9932" x="348.4521" y="107.292">APIGateway</text></g><g class="participant participant-tail" data-participant="gateway"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.9932" x="341.4521" y="722.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.9932" x="348.4521" y="742.3154">APIGateway</text></g><g class="participant participant-head" data-participant="auth"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52.9033" x="535.6816" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.9033" x="542.6816" y="107.292">AUTH</text></g><g class="participant participant-tail" data-participant="auth"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52.9033" x="535.6816" y="722.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.9033" x="542.6816" y="742.3154">AUTH</text></g><g class="participant participant-head" data-participant="usersDB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.5938" x="698.3931" y="115.292">USERS</text><path d="M706.6899,66.2969 C706.6899,56.2969 724.6899,56.2969 724.6899,56.2969 C724.6899,56.2969 742.6899,56.2969 742.6899,66.2969 L742.6899,92.2969 C742.6899,102.2969 724.6899,102.2969 724.6899,102.2969 C724.6899,102.2969 706.6899,102.2969 706.6899,92.2969 L706.6899,66.2969" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M706.6899,66.2969 C706.6899,76.2969 724.6899,76.2969 724.6899,76.2969 C724.6899,76.2969 742.6899,76.2969 742.6899,66.2969" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g class="participant participant-tail" data-participant="usersDB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.5938" x="698.3931" y="735.3154">USERS</text><path d="M706.6899,748.6172 C706.6899,738.6172 724.6899,738.6172 724.6899,738.6172 C724.6899,738.6172 742.6899,738.6172 742.6899,748.6172 L742.6899,774.6172 C742.6899,784.6172 724.6899,784.6172 724.6899,784.6172 C724.6899,784.6172 706.6899,784.6172 706.6899,774.6172 L706.6899,748.6172" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M706.6899,748.6172 C706.6899,758.6172 724.6899,758.6172 724.6899,758.6172 C724.6899,758.6172 742.6899,758.6172 742.6899,748.6172" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g class="participant participant-head" data-participant="tokensDB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.957" x="760.9868" y="115.292">TOKENS</text><path d="M774.4653,66.2969 C774.4653,56.2969 792.4653,56.2969 792.4653,56.2969 C792.4653,56.2969 810.4653,56.2969 810.4653,66.2969 L810.4653,92.2969 C810.4653,102.2969 792.4653,102.2969 792.4653,102.2969 C792.4653,102.2969 774.4653,102.2969 774.4653,92.2969 L774.4653,66.2969" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M774.4653,66.2969 C774.4653,76.2969 792.4653,76.2969 792.4653,76.2969 C792.4653,76.2969 810.4653,76.2969 810.4653,66.2969" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g class="participant participant-tail" data-participant="tokensDB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.957" x="760.9868" y="735.3154">TOKENS</text><path d="M774.4653,748.6172 C774.4653,738.6172 792.4653,738.6172 792.4653,738.6172 C792.4653,738.6172 810.4653,738.6172 810.4653,748.6172 L810.4653,774.6172 C810.4653,784.6172 792.4653,784.6172 792.4653,784.6172 C792.4653,784.6172 774.4653,784.6172 774.4653,774.6172 L774.4653,748.6172" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M774.4653,748.6172 C774.4653,758.6172 792.4653,758.6172 792.4653,758.6172 C792.4653,758.6172 810.4653,758.6172 810.4653,748.6172" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g class="message" data-participant-1="user" data-participant-2="client"><polygon fill="#181818" points="206.7642,145.7266,216.7642,149.7266,206.7642,153.7266,210.7642,149.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="23.9551" x2="212.7642" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170.8091" x="30.9551" y="144.6606">Introduce las credenciales</text></g><g class="message" data-participant-1="client" data-participant-2="gateway"><polygon fill="#0000FF" points="378.4487,189.9922,388.4487,193.9922,378.4487,197.9922,382.4487,193.9922" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;" x1="218.7642" x2="384.4487" y1="193.9922" y2="193.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.1455" x="225.7642" y="173.7935">HTTPS POST</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.6025" x="225.7642" y="188.9263">(user + password)</text></g><g class="message" data-participant-1="gateway" data-participant-2="auth"><polygon fill="#FFA500" points="550.1333,234.2578,560.1333,238.2578,550.1333,242.2578,554.1333,238.2578" style="stroke:#FFA500;stroke-width:1;"/><line style="stroke:#FFA500;stroke-width:1;" x1="390.4487" x2="556.1333" y1="238.2578" y2="238.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.6992" x="397.4487" y="218.0591">Solicita autenticaci&#243;n</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.6025" x="397.4487" y="233.1919">(user + password)</text></g><g class="message" data-participant-1="auth" data-participant-2="usersDB"><polygon fill="#181818" points="712.6899,263.3906,722.6899,267.3906,712.6899,271.3906,716.6899,267.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="562.1333" x2="718.6899" y1="267.3906" y2="267.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.5566" x="569.1333" y="262.3247">Busqueda de Usuario</text></g><g class="message" data-participant-1="usersDB" data-participant-2="auth"><polygon fill="#181818" points="573.1333,307.6563,563.1333,311.6563,573.1333,315.6563,569.1333,311.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="567.1333" x2="723.6899" y1="311.6563" y2="311.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.6104" x="579.1333" y="291.4575">Devuelve resultado</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.9668" x="579.1333" y="306.5903">(hash + salt)</text></g><g class="message" data-participant-1="auth" data-participant-2="auth"><line style="stroke:#181818;stroke-width:1;" x1="562.1333" x2="604.1333" y1="340.7891" y2="340.7891"/><line style="stroke:#181818;stroke-width:1;" x1="604.1333" x2="604.1333" y1="340.7891" y2="353.7891"/><line style="stroke:#181818;stroke-width:1;" x1="563.1333" x2="604.1333" y1="353.7891" y2="353.7891"/><polygon fill="#181818" points="573.1333,349.7891,563.1333,353.7891,573.1333,357.7891,569.1333,353.7891" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.5498" x="569.1333" y="335.7231">Autentica usuario</text></g><path d="M181.499,368.7891 L245.9419,368.7891 L245.9419,375.9219 L235.9419,385.9219 L181.499,385.9219 L181.499,368.7891" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="337.5313" style="stroke:#000000;stroke-width:1.5;" width="652.4448" x="181.499" y="368.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="196.499" y="381.856">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="140.9751" x="260.9419" y="380.9995">[Autenticaci&#243;n Fallida]</text><g class="message" data-participant-1="auth" data-participant-2="gateway"><polygon fill="#FFA500" points="401.4487,403.0547,391.4487,407.0547,401.4487,411.0547,397.4487,407.0547" style="stroke:#FFA500;stroke-width:1;"/><line style="stroke:#FFA500;stroke-width:1;" x1="395.4487" x2="561.1333" y1="407.0547" y2="407.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.0601" x="407.4487" y="401.9888">Incorrecto</text></g><g class="message" data-participant-1="gateway" data-participant-2="client"><polygon fill="#0000FF" points="229.7642,447.3203,219.7642,451.3203,229.7642,455.3203,225.7642,451.3203" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;" x1="223.7642" x2="389.4487" y1="451.3203" y2="451.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24.813" x="235.7642" y="431.1216">401</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.019" x="235.7642" y="446.2544">No autorizado</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="181.499" x2="833.9438" y1="460.3203" y2="460.3203"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="144.5952" x="186.499" y="470.5308">[Autenticaci&#243;n Exitosa]</text><g class="message" data-participant-1="auth" data-participant-2="auth"><line style="stroke:#181818;stroke-width:1;" x1="562.1333" x2="604.1333" y1="495.2578" y2="495.2578"/><line style="stroke:#181818;stroke-width:1;" x1="604.1333" x2="604.1333" y1="495.2578" y2="508.2578"/><line style="stroke:#181818;stroke-width:1;" x1="563.1333" x2="604.1333" y1="508.2578" y2="508.2578"/><polygon fill="#181818" points="573.1333,504.2578,563.1333,508.2578,573.1333,512.2578,569.1333,508.2578" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.3813" x="569.1333" y="490.1919">Genera JWT</text></g><g class="message" data-participant-1="auth" data-participant-2="auth"><line style="stroke:#181818;stroke-width:1;" x1="562.1333" x2="604.1333" y1="537.3906" y2="537.3906"/><line style="stroke:#181818;stroke-width:1;" x1="604.1333" x2="604.1333" y1="537.3906" y2="550.3906"/><line style="stroke:#181818;stroke-width:1;" x1="563.1333" x2="604.1333" y1="550.3906" y2="550.3906"/><polygon fill="#181818" points="573.1333,546.3906,563.1333,550.3906,573.1333,554.3906,569.1333,550.3906" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.5073" x="569.1333" y="532.3247">Genera Refresh Token</text></g><g class="message" data-participant-1="auth" data-participant-2="tokensDB"><polygon fill="#181818" points="780.4653,590.6563,790.4653,594.6563,780.4653,598.6563,784.4653,594.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="562.1333" x2="786.4653" y1="594.6563" y2="594.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.1768" x="569.1333" y="574.4575">Almacena el token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.8984" x="569.1333" y="589.5903">(Refresh Token)</text></g><g class="message" data-participant-1="auth" data-participant-2="gateway"><polygon fill="#FFA500" points="401.4487,634.9219,391.4487,638.9219,401.4487,642.9219,397.4487,638.9219" style="stroke:#FFA500;stroke-width:1;"/><line style="stroke:#FFA500;stroke-width:1;" x1="395.4487" x2="561.1333" y1="638.9219" y2="638.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.9165" x="407.4487" y="618.7231">Correcto</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.6846" x="407.4487" y="633.856">(JWT + Refresh Token)</text></g><g class="message" data-participant-1="gateway" data-participant-2="client"><polygon fill="#0000FF" points="229.7642,694.3203,219.7642,698.3203,229.7642,702.3203,225.7642,698.3203" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;" x1="223.7642" x2="389.4487" y1="698.3203" y2="698.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24.813" x="235.7642" y="662.9888">200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70.1353" x="235.7642" y="678.1216">Autorizado</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.6846" x="235.7642" y="693.2544">(JWT + Refresh Token)</text></g><!--SRC=[VLBBJiCm4BpxArPm0Q5A1N7geLA10WK9AfAA0-Mms4jhC7RnWzTlyGdy6EicQIclKvpCxEpCE557Gx1sQDAT0qLWt4JRV1Y5X5wxDI5GHkVvdJnWWCHF8MReevPwXZR2lj743yRa_BG2zeQ38upqZA-PCAcEgunHUPmnJ74gXCA8DnXuVz6_A9g5uM1lYPJdf_spEHJTFTcCYKngTQlz7HZOw9rAakDaLvuKMQdHK10LfNMrVcCINNThGnquBijX0SFpeXpRZQm6Mp3349wTLvkYfl6OysWdF9ZTTg1mXcD4pEPPLakK-kFT_YQH1rhTEam7zb9uJAJmIzMY1bkr-04z9J9F19v2CX6LOzqfXYdh1ZInqQpOlSO15rR92UOiFy-DmI4QenKAcDVz9S-YY86LpdlYEsVICdTLLrFmRdjxRCzS5d5Ulx4r8SZmtNnRrt_HqON5kjhg4Ldo22UNvU_01Trov2cK-NeNbEQoEQfvG4aMWKpr2t0lApER_-JRhzFn31lWAdzC_XLwfzqUszuYyLy2PDKd]--></g></svg>