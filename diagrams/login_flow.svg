<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1464px" preserveAspectRatio="none" style="width:1106px;height:1464px;background:#FFFFFF;" version="1.1" viewBox="0 0 1106 1464" width="1106px" zoomAndPan="magnify"><title>Flujo de login de Usuario</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="196.916" x="450.6528" y="27.9951">Flujo de login de Usuario</text><rect fill="none" height="781.125" style="stroke:#000000;stroke-width:1.5;" width="936.5562" x="152.6655" y="571.5078"/><rect fill="none" height="479.7266" style="stroke:#000000;stroke-width:1.5;" width="916.5562" x="162.6655" y="865.9063"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="1164.8516" width="8" x="19.9551" y="204.7813"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="23" x2="23" y1="204.7813" y2="1369.6328"/></g><g><title>Client</title><rect fill="#000000" fill-opacity="0.00000" height="1164.8516" width="8" x="195.9307" y="204.7813"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="199.6655" x2="199.6655" y1="204.7813" y2="1369.6328"/></g><g><title>API</title><rect fill="#000000" fill-opacity="0.00000" height="1164.8516" width="8" x="458.7739" y="204.7813"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="461.8516" x2="461.8516" y1="204.7813" y2="1369.6328"/></g><g><title>AUTH</title><rect fill="#000000" fill-opacity="0.00000" height="1164.8516" width="8" x="634.7495" y="204.7813"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="637.8789" x2="637.8789" y1="204.7813" y2="1369.6328"/></g><g><title>Token</title><rect fill="#000000" fill-opacity="0.00000" height="1164.8516" width="8" x="878.7441" y="204.7813"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="881.9751" x2="881.9751" y1="204.7813" y2="1369.6328"/></g><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="1164.8516" width="8" x="932.4683" y="204.7813"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="935.5132" x2="935.5132" y1="204.7813" y2="1369.6328"/></g><g class="participant participant-head" data-participant="user"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="5" y="201.4795">User</text><ellipse cx="23.9551" cy="136.9844" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.9551,144.9844 L23.9551,171.9844 M10.9551,152.9844 L36.9551,152.9844 M23.9551,171.9844 L10.9551,186.9844 M23.9551,171.9844 L36.9551,186.9844" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="user"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="5" y="1381.6279">User</text><ellipse cx="23.9551" cy="1393.4297" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.9551,1401.4297 L23.9551,1428.4297 M10.9551,1409.4297 L36.9551,1409.4297 M23.9551,1428.4297 L10.9551,1443.4297 M23.9551,1428.4297 L36.9551,1443.4297" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="client"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="54.5303" x="172.6655" y="173.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.5303" x="179.6655" y="193.4795">Client</text></g><g class="participant participant-tail" data-participant="client"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="54.5303" x="172.6655" y="1368.6328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.5303" x="179.6655" y="1388.6279">Client</text></g><g class="participant participant-head" data-participant="gateway"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75.8447" x="424.8516" y="157.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22.1484" x="451.6997" y="177.1826">API</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.8447" x="431.8516" y="193.4795">Gateway</text></g><g class="participant participant-tail" data-participant="gateway"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75.8447" x="424.8516" y="1368.6328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22.1484" x="451.6997" y="1388.6279">API</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.8447" x="431.8516" y="1404.9248">Gateway</text></g><g class="participant participant-head" data-participant="auth"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65.7412" x="605.8789" y="157.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.9033" x="619.2979" y="177.1826">AUTH</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.7412" x="612.8789" y="193.4795">Service</text></g><g class="participant participant-tail" data-participant="auth"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65.7412" x="605.8789" y="1368.6328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.9033" x="619.2979" y="1388.6279">AUTH</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.7412" x="612.8789" y="1404.9248">Service</text></g><g class="participant participant-head" data-participant="tokenCache"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.7109" x="858.3887" y="185.1826">Token</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.5381" x="857.9751" y="201.4795">Cach&#233;</text><path d="M864.7441,136.1875 C864.7441,126.1875 882.7441,126.1875 882.7441,126.1875 C882.7441,126.1875 900.7441,126.1875 900.7441,136.1875 L900.7441,162.1875 C900.7441,172.1875 882.7441,172.1875 882.7441,172.1875 C882.7441,172.1875 864.7441,172.1875 864.7441,162.1875 L864.7441,136.1875" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M864.7441,136.1875 C864.7441,146.1875 882.7441,146.1875 882.7441,146.1875 C882.7441,146.1875 900.7441,146.1875 900.7441,136.1875" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g class="participant participant-tail" data-participant="tokenCache"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.7109" x="858.3887" y="1381.6279">Token</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.5381" x="857.9751" y="1397.9248">Cach&#233;</text><path d="M864.7441,1411.2266 C864.7441,1401.2266 882.7441,1401.2266 882.7441,1401.2266 C882.7441,1401.2266 900.7441,1401.2266 900.7441,1411.2266 L900.7441,1437.2266 C900.7441,1447.2266 882.7441,1447.2266 882.7441,1447.2266 C882.7441,1447.2266 864.7441,1447.2266 864.7441,1437.2266 L864.7441,1411.2266" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M864.7441,1411.2266 C864.7441,1421.2266 882.7441,1421.2266 882.7441,1421.2266 C882.7441,1421.2266 900.7441,1421.2266 900.7441,1411.2266" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g class="participant participant-head" data-participant="userDB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="917.5132" y="185.1826">User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20.3848" x="923.2759" y="201.4795">DB</text><path d="M918.4683,136.1875 C918.4683,126.1875 936.4683,126.1875 936.4683,126.1875 C936.4683,126.1875 954.4683,126.1875 954.4683,136.1875 L954.4683,162.1875 C954.4683,172.1875 936.4683,172.1875 936.4683,172.1875 C936.4683,172.1875 918.4683,172.1875 918.4683,162.1875 L918.4683,136.1875" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M918.4683,136.1875 C918.4683,146.1875 936.4683,146.1875 936.4683,146.1875 C936.4683,146.1875 954.4683,146.1875 954.4683,136.1875" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g class="participant participant-tail" data-participant="userDB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="917.5132" y="1381.6279">User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20.3848" x="923.2759" y="1397.9248">DB</text><path d="M918.4683,1411.2266 C918.4683,1401.2266 936.4683,1401.2266 936.4683,1401.2266 C936.4683,1401.2266 954.4683,1401.2266 954.4683,1411.2266 L954.4683,1437.2266 C954.4683,1447.2266 936.4683,1447.2266 936.4683,1447.2266 C936.4683,1447.2266 918.4683,1447.2266 918.4683,1437.2266 L918.4683,1411.2266" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M918.4683,1411.2266 C918.4683,1421.2266 936.4683,1421.2266 936.4683,1421.2266 C936.4683,1421.2266 954.4683,1421.2266 954.4683,1411.2266" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1099.2217" x="0" y="235.3477"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1099.2217" y1="235.3477" y2="235.3477"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1099.2217" y1="238.3477" y2="238.3477"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="107.2217" x="496" y="224.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="88.6958" x="502" y="240.8481">Login Inicial</text><g class="message" data-participant-1="user" data-participant-2="client"><polygon fill="#181818" points="187.9307,290.1797,197.9307,294.1797,187.9307,298.1797,191.9307,294.1797" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="23.9551" x2="193.9307" y1="294.1797" y2="294.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.3257" x="30.9551" y="273.981">Introduce credenciales</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.9756" x="30.9551" y="289.1138">{username, password}</text></g><g class="message" data-participant-1="client" data-participant-2="gateway"><polygon fill="#0000FF" points="450.7739,334.4453,460.7739,338.4453,450.7739,342.4453,454.7739,338.4453" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;" x1="199.9307" x2="456.7739" y1="338.4453" y2="338.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.4453" x="206.9307" y="318.2466">POST /login</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.9756" x="206.9307" y="333.3794">{username, password}</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1099.2217" x="0" y="367.0117"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1099.2217" y1="367.0117" y2="367.0117"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1099.2217" y1="370.0117" y2="370.0117"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="214.1289" x="442.5464" y="356.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="195.603" x="448.5464" y="372.5122">Validaci&#243;n de credenciales</text><g class="message" data-participant-1="gateway" data-participant-2="auth"><polygon fill="#800080" points="626.7495,421.8438,636.7495,425.8438,626.7495,429.8438,630.7495,425.8438" style="stroke:#800080;stroke-width:1;"/><line style="stroke:#800080;stroke-width:1;" x1="462.7739" x2="632.7495" y1="425.8438" y2="425.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.5215" x="469.7739" y="405.645">Valida credenciales</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.9756" x="469.7739" y="420.7778">{username, password}</text></g><g class="message" data-participant-1="auth" data-participant-2="userDB"><polygon fill="#181818" points="924.4683,466.1094,934.4683,470.1094,924.4683,474.1094,928.4683,470.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="638.7495" x2="930.4683" y1="470.1094" y2="470.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.2407" x="645.7495" y="449.9106">Busqueda de credenciales</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.7642" x="645.7495" y="465.0435">{username}</text></g><g class="message" data-participant-1="userDB" data-participant-2="auth"><polygon fill="#181818" points="649.7495,510.375,639.7495,514.375,649.7495,518.375,645.7495,514.375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="643.7495" x2="935.4683" y1="514.375" y2="514.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.4624" x="655.7495" y="494.1763">Devuelve credenciales</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.4727" x="655.7495" y="509.3091">{hash, salt}</text></g><g class="message" data-participant-1="auth" data-participant-2="auth"><line style="stroke:#181818;stroke-width:1;" x1="638.7495" x2="680.7495" y1="543.5078" y2="543.5078"/><line style="stroke:#181818;stroke-width:1;" x1="680.7495" x2="680.7495" y1="543.5078" y2="556.5078"/><line style="stroke:#181818;stroke-width:1;" x1="639.7495" x2="680.7495" y1="556.5078" y2="556.5078"/><polygon fill="#181818" points="649.7495,552.5078,639.7495,556.5078,649.7495,560.5078,645.7495,556.5078" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.854" x="645.7495" y="538.4419">Compara contrase&#241;as</text></g><path d="M152.6655,571.5078 L217.1084,571.5078 L217.1084,578.6406 L207.1084,588.6406 L152.6655,588.6406 L152.6655,571.5078" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="781.125" style="stroke:#000000;stroke-width:1.5;" width="936.5562" x="152.6655" y="571.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="167.6655" y="584.5747">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="149.4023" x="232.1084" y="583.7183">[Credenciales Inv&#225;lidas]</text><g class="message" data-participant-1="auth" data-participant-2="gateway"><polygon fill="#800080" points="473.7739,605.7734,463.7739,609.7734,473.7739,613.7734,469.7739,609.7734" style="stroke:#800080;stroke-width:1;"/><line style="stroke:#800080;stroke-width:1;" x1="467.7739" x2="637.7495" y1="609.7734" y2="609.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51.2827" x="479.7739" y="604.7075">Payload</text></g><path d="M467,622.7734 L467,707.7734 L590,707.7734 L590,632.7734 L580,622.7734 L467,622.7734" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M580,622.7734 L580,632.7734 L590,632.7734 L580,622.7734" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.6626" x="473" y="639.8403">Payload:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="473" y="654.9731">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.2437" x="481.2646" y="670.106">"status": False</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.6353" x="481.2646" y="685.2388">"code": 401</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="473" y="700.3716">}</text><g class="message" data-participant-1="gateway" data-participant-2="client"><polygon fill="#0000FF" points="210.9307,730.5703,200.9307,734.5703,210.9307,738.5703,206.9307,734.5703" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;" x1="204.9307" x2="461.7739" y1="734.5703" y2="734.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.7876" x="216.9307" y="729.5044">401 - No autorizado</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="152.6655" x2="1089.2217" y1="743.5703" y2="743.5703"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="138.8213" x="157.6655" y="753.7808">[Credenciales V&#225;lidas]</text><g class="message" data-participant-1="auth" data-participant-2="auth"><line style="stroke:#181818;stroke-width:1;" x1="638.7495" x2="680.7495" y1="793.6406" y2="793.6406"/><line style="stroke:#181818;stroke-width:1;" x1="680.7495" x2="680.7495" y1="793.6406" y2="806.6406"/><line style="stroke:#181818;stroke-width:1;" x1="639.7495" x2="680.7495" y1="806.6406" y2="806.6406"/><polygon fill="#181818" points="649.7495,802.6406,639.7495,806.6406,649.7495,810.6406,645.7495,806.6406" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.3418" x="645.7495" y="773.4419">Genera tokens</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229.9946" x="645.7495" y="788.5747">ACCESS_TOKEN y REFRESH_TOKEN</text></g><g class="message" data-participant-1="auth" data-participant-2="userDB"><polygon fill="#181818" points="924.4683,846.9063,934.4683,850.9063,924.4683,854.9063,928.4683,850.9063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="638.7495" x2="930.4683" y1="850.9063" y2="850.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.7393" x="645.7495" y="830.7075">INSERT/UPDATE token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.6768" x="645.7495" y="845.8403">{REFRESH_TOKEN}</text></g><path d="M162.6655,865.9063 L227.1084,865.9063 L227.1084,873.0391 L217.1084,883.0391 L162.6655,883.0391 L162.6655,865.9063" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="479.7266" style="stroke:#000000;stroke-width:1.5;" width="916.5562" x="162.6655" y="865.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="177.6655" y="878.9731">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="118.6421" x="242.1084" y="878.1167">[Operaci&#243;n Fallida]</text><g class="message" data-participant-1="auth" data-participant-2="gateway"><polygon fill="#800080" points="473.7739,900.1719,463.7739,904.1719,473.7739,908.1719,469.7739,904.1719" style="stroke:#800080;stroke-width:1;"/><line style="stroke:#800080;stroke-width:1;" x1="467.7739" x2="637.7495" y1="904.1719" y2="904.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51.2827" x="479.7739" y="899.106">Payload</text></g><path d="M467,917.1719 L467,1002.1719 L590,1002.1719 L590,927.1719 L580,917.1719 L467,917.1719" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M580,917.1719 L580,927.1719 L590,927.1719 L580,917.1719" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.6626" x="473" y="934.2388">Payload:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="473" y="949.3716">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.2437" x="481.2646" y="964.5044">"status": False</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.6353" x="481.2646" y="979.6372">"code": 500</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="473" y="994.77">}</text><g class="message" data-participant-1="gateway" data-participant-2="client"><polygon fill="#0000FF" points="210.9307,1024.9688,200.9307,1028.9688,210.9307,1032.9688,206.9307,1028.9688" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;" x1="204.9307" x2="461.7739" y1="1028.9688" y2="1028.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.7334" x="216.9307" y="1023.9028">500 - Server Error</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="162.6655" x2="1079.2217" y1="1037.9688" y2="1037.9688"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="122.2622" x="167.6655" y="1048.1792">[Operaci&#243;n Exitosa]</text><g class="message" data-participant-1="auth" data-participant-2="tokenCache"><polygon fill="#181818" points="870.7441,1084.0391,880.7441,1088.0391,870.7441,1092.0391,874.7441,1088.0391" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="638.7495" x2="876.7441" y1="1088.0391" y2="1088.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65.3555" x="645.7495" y="1067.8403">SET token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.6768" x="645.7495" y="1082.9731">{REFRESH_TOKEN}</text></g><path d="M643,1101.0391 L643,1171.0391 L1069,1171.0391 L1069,1111.0391 L1059,1101.0391 L643,1101.0391" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1059,1101.0391 L1059,1111.0391 L1069,1111.0391 L1059,1101.0391" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="405.2217" x="649" y="1118.106">Se a&#241;ade a una base de datos redis. Esto permite que cuando</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="323.8257" x="649" y="1133.2388">el usuario use REFRESH_TOKEN para generear un</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="365.4155" x="649" y="1148.3716">nuevo ACCESS_TOKEN, el sistema acceda m&#225;s r&#225;pido al</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199.1641" x="649" y="1163.5044">REFRESH_TOKEN almacenado.</text><g class="message" data-participant-1="auth" data-participant-2="gateway"><polygon fill="#800080" points="473.7739,1193.7031,463.7739,1197.7031,473.7739,1201.7031,469.7739,1197.7031" style="stroke:#800080;stroke-width:1;"/><line style="stroke:#800080;stroke-width:1;" x1="467.7739" x2="637.7495" y1="1197.7031" y2="1197.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51.2827" x="479.7739" y="1192.6372">Payload</text></g><path d="M467,1210.7031 L467,1295.7031 L586,1295.7031 L586,1220.7031 L576,1210.7031 L467,1210.7031" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M576,1210.7031 L576,1220.7031 L586,1220.7031 L576,1210.7031" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.6626" x="473" y="1227.77">Payload:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="473" y="1242.9028">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89.9399" x="481.2646" y="1258.0356">"status": True</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.6353" x="481.2646" y="1273.1685">"code": 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="473" y="1288.3013">}</text><g class="message" data-participant-1="gateway" data-participant-2="client"><polygon fill="#0000FF" points="210.9307,1333.6328,200.9307,1337.6328,210.9307,1341.6328,206.9307,1337.6328" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;" x1="204.9307" x2="461.7739" y1="1337.6328" y2="1337.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.5259" x="216.9307" y="1317.4341">200 - OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238.8433" x="216.9307" y="1332.5669">{ACCESS_TOKEN, REFRESH_TOKEN}</text></g><rect fill="#DDDDDD" height="58.8906" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:1;" width="215.085" x="441.5684" y="54.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.3672" x="446.5684" y="72.292">Leyenda:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="5.0518" x="446.5684" y="88.5889">-</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.0117" x="456.0703" y="88.5889">REST</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153.542" x="496.5322" y="88.5889">= comunicaci&#243;n HTTP</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="5.0518" x="446.5684" y="104.8857">-</text><text fill="#800080" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.832" x="456.0703" y="104.8857">gRPC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154.3008" x="497.3525" y="104.8857">= comunicaci&#243;n gRPC</text><!--SRC=[jLNDRXCn4BxxAKRXsj1ImMNLH6hJxOzQjL6pxOKWDEoE4eDZ1zkRKge-J8yS4O-G5sDiRscs4E00KNwyzlnzttoUUEaLGUT0rUyDL0JAJAGEYqjNevMc8uIY2UaAl9cBKxhX9MQY2pkbKSPcxrHD_OjyLEnineq-zA0qirhB4akv_ARXg2Y6Z_RpsiuLzISNmy5QZt0eGigKMGWilR5S4Lb01pN_YZbQBqivH-sXCr2IjE-4mp8ksyUxm-EnFaHFrtWJZIPf_SJgiZWQwn7PXImfcc7jfq9KwF4TEYQfC1z8Z_K0o-doIxJmOISyqufPg7Eiz_Sw3yNkxmdHwy5ffFQOSKfKqEi94Gwx_LHonYVUcgek2KfB5UbWHcwiRuEPnXbjm1oTkpQskXF9gVlwMMZ0ctw3A8FX-QY0pTZ5DPwnbYjKichehje9OsLDF8wV6lQc7yZ86h-_AJ3OT_i9VWPxjVjO4tjMQz7TYMJSRLBjqw8cjVZ9VefkkW4EbNz8akm7PiRzvDeCyyYDM7v5nz9H7WQhw8xrOdaVG3W1iSCh61zPn1jbi68BVclZ2QoSJFqFuG2_6fiiFjp6Ru2Ey-XhrydW09MZXztILCHxBxTUn9qx_Wxw3f5JZaU-KpyVDC4Uq8Kp4oerLdx6oWX17BaDwke9f8QIGzB4Z4ILCdMxWq4-6hqjpa_oCxY1Y_o0B-vHUavbj9jsV3RABuhDo-7-Rf6dACn_o-skyMEMp-USAocAiOTo8jO_KnmZ_4kQNsrj_Q2vHNIJQHtPxCTaXmd0WoQtrjY4BlAz0Y__9BrnA9fmYRJ7KP31A2_Mq_Kpt3Xd4eGH0R9m-POWr1eXJXH-ukbY773BfNiEkVC6k9oPv11yhQ2iKRCmKWXIF7JYx0x3fzrbY3Ta4cH1Q3b3uwDhMXXOrST6YEEaypH3mB8CTtUslESQblTpMR4WLUFRJe1gXYLfrkdp5llGOkl_wQ6mzLCvRA-Jms_5i1t5S7x2BMppyYlzXtyf_dm7]--></g></svg>