<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="692px" preserveAspectRatio="none" style="width:518px;height:692px;background:#FFFFFF;" version="1.1" viewBox="0 0 518 692" width="518px" zoomAndPan="magnify"><title>Flujo Inicio Chat de Usuarios</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="225.5996" x="145.8879" y="27.9951">Flujo Inicio Chat de Usuarios</text><rect fill="none" height="328.3984" style="stroke:#000000;stroke-width:1.5;" width="448.1016" x="42.9102" y="266.2578"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="493.0625" width="8" x="19.9551" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="23" x2="23" y1="118.5938" y2="611.6563"/></g><g><title>Client</title><rect fill="#000000" fill-opacity="0.00000" height="493.0625" width="8" x="76.1753" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="79.9102" x2="79.9102" y1="118.5938" y2="611.6563"/></g><g><title>API Gateway</title><rect fill="#000000" fill-opacity="0.00000" height="493.0625" width="8" x="282.4419" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="286.2202" x2="286.2202" y1="118.5938" y2="611.6563"/></g><g><title>AUTH Service</title><rect fill="#000000" fill-opacity="0.00000" height="493.0625" width="8" x="422.4644" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="425.917" x2="425.917" y1="118.5938" y2="611.6563"/></g><g class="participant participant-head" data-participant="user"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="5" y="115.292">User</text><ellipse cx="23.9551" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.9551,58.7969 L23.9551,85.7969 M10.9551,66.7969 L36.9551,66.7969 M23.9551,85.7969 L10.9551,100.7969 M23.9551,85.7969 L36.9551,100.7969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="user"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="5" y="623.6514">User</text><ellipse cx="23.9551" cy="635.4531" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.9551,643.4531 L23.9551,670.4531 M10.9551,651.4531 L36.9551,651.4531 M23.9551,670.4531 L10.9551,685.4531 M23.9551,670.4531 L36.9551,685.4531" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="client"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="54.5303" x="52.9102" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.5303" x="59.9102" y="107.292">Client</text></g><g class="participant participant-tail" data-participant="client"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="54.5303" x="52.9102" y="610.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.5303" x="59.9102" y="630.6514">Client</text></g><g class="participant participant-head" data-participant="gateway"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102.4434" x="235.2202" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.4434" x="242.2202" y="107.292">API Gateway</text></g><g class="participant participant-tail" data-participant="gateway"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102.4434" x="235.2202" y="610.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.4434" x="242.2202" y="630.6514">API Gateway</text></g><g class="participant participant-head" data-participant="auth"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109.0947" x="371.917" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.0947" x="378.917" y="107.292">AUTH Service</text></g><g class="participant participant-tail" data-participant="auth"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109.0947" x="371.917" y="610.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.0947" x="378.917" y="630.6514">AUTH Service</text></g><g class="message" data-participant-1="client" data-participant-2="gateway"><polygon fill="#0000FF" points="274.4419,160.8594,284.4419,164.8594,274.4419,168.8594,278.4419,164.8594" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;" x1="80.1753" x2="280.4419" y1="164.8594" y2="164.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71.8936" x="87.1753" y="144.6606">HTTP POST</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.7725" x="87.1753" y="159.7935">(JWT)</text></g><g class="message" data-participant-1="gateway" data-participant-2="auth"><polygon fill="#800080" points="414.4644,205.125,424.4644,209.125,414.4644,213.125,418.4644,209.125" style="stroke:#800080;stroke-width:1;"/><line style="stroke:#800080;stroke-width:1;" x1="286.4419" x2="420.4644" y1="209.125" y2="209.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.0225" x="293.4419" y="188.9263">Delega validaci&#243;n</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.7725" x="293.4419" y="204.0591">(JWT)</text></g><g class="message" data-participant-1="auth" data-participant-2="auth"><line style="stroke:#181818;stroke-width:1;" x1="426.4644" x2="468.4644" y1="238.2578" y2="238.2578"/><line style="stroke:#181818;stroke-width:1;" x1="468.4644" x2="468.4644" y1="238.2578" y2="251.2578"/><line style="stroke:#181818;stroke-width:1;" x1="427.4644" x2="468.4644" y1="251.2578" y2="251.2578"/><polygon fill="#181818" points="437.4644,247.2578,427.4644,251.2578,437.4644,255.2578,433.4644,251.2578" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.9111" x="433.4644" y="233.1919">Verifica JWT</text></g><path d="M42.9102,266.2578 L107.353,266.2578 L107.353,273.3906 L97.353,283.3906 L42.9102,283.3906 L42.9102,266.2578" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="328.3984" style="stroke:#000000;stroke-width:1.5;" width="448.1016" x="42.9102" y="266.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="57.9102" y="279.3247">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="73.7021" x="122.353" y="278.4683">[Incorrecto]</text><g class="message" data-participant-1="auth" data-participant-2="gateway"><polygon fill="#800080" points="297.4419,300.5234,287.4419,304.5234,297.4419,308.5234,293.4419,304.5234" style="stroke:#800080;stroke-width:1;"/><line style="stroke:#800080;stroke-width:1;" x1="291.4419" x2="425.4644" y1="304.5234" y2="304.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.0601" x="303.4419" y="299.4575">Incorrecto</text></g><g class="message" data-participant-1="gateway" data-participant-2="client"><polygon fill="#0000FF" points="91.1753,344.7891,81.1753,348.7891,91.1753,352.7891,87.1753,348.7891" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;" x1="85.1753" x2="285.4419" y1="348.7891" y2="348.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.4419" x="97.1753" y="328.5903">HTTP 401</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.9458" x="97.1753" y="343.7231">No Autorizado</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="42.9102" x2="491.0117" y1="357.7891" y2="357.7891"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="63.3306" x="47.9102" y="367.9995">[Correcto]</text><g class="message" data-participant-1="auth" data-participant-2="gateway"><polygon fill="#800080" points="297.4419,388.7266,287.4419,392.7266,297.4419,396.7266,293.4419,392.7266" style="stroke:#800080;stroke-width:1;"/><line style="stroke:#800080;stroke-width:1;" x1="291.4419" x2="425.4644" y1="392.7266" y2="392.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.9165" x="303.4419" y="387.6606">Correcto</text></g><g class="message" data-participant-1="gateway" data-participant-2="gateway"><line style="stroke:#181818;stroke-width:1;" x1="286.4419" x2="328.4419" y1="421.8594" y2="421.8594"/><line style="stroke:#181818;stroke-width:1;" x1="328.4419" x2="328.4419" y1="421.8594" y2="434.8594"/><line style="stroke:#181818;stroke-width:1;" x1="287.4419" x2="328.4419" y1="434.8594" y2="434.8594"/><polygon fill="#181818" points="297.4419,430.8594,287.4419,434.8594,297.4419,438.8594,293.4419,434.8594" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.2378" x="293.4419" y="416.7935">Genera session_id</text></g><g class="message" data-participant-1="gateway" data-participant-2="gateway"><line style="stroke:#181818;stroke-width:1;" x1="286.4419" x2="328.4419" y1="479.125" y2="479.125"/><line style="stroke:#181818;stroke-width:1;" x1="328.4419" x2="328.4419" y1="479.125" y2="492.125"/><line style="stroke:#181818;stroke-width:1;" x1="287.4419" x2="328.4419" y1="492.125" y2="492.125"/><polygon fill="#181818" points="297.4419,488.125,287.4419,492.125,297.4419,496.125,293.4419,492.125" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.6934" x="293.4419" y="458.9263">Registra session_id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.4419" x="293.4419" y="474.0591">y Conexi&#243;n SSE</text></g><g class="message" data-participant-1="gateway" data-participant-2="client"><polygon fill="#0000FF" points="91.1753,532.3906,81.1753,536.3906,91.1753,540.3906,87.1753,536.3906" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;" x1="85.1753" x2="285.4419" y1="536.3906" y2="536.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.4419" x="97.1753" y="516.1919">HTTP 202</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182.2666" x="97.1753" y="531.3247">(Cabeceras SSE, session_id)</text></g><path d="M85,549.3906 L85,589.3906 L357,589.3906 L357,559.3906 L347,549.3906 L85,549.3906" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M347,549.3906 L347,559.3906 L357,559.3906 L347,549.3906" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251.8877" x="91" y="566.4575">Se inicia conexi&#243;n SSE cliente-servidor</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.8394" x="91" y="581.5903">que se mantiene abierta.</text><!--SRC=[XLDHZn8n47xlhvZW2oH2047DFXXFuBZZm2Et2pw8CSFkiDIK5hijUlujVu9_pEa20cfoczriq- -RRxwPJfrqYg1ohVmN0xTQfj90RuqECe9PuT5AKrI4mDGPonja0Glm_1TYYzOnVulQGQMd96bN2MXQBY_Xg-aj3D7HDtmiEVb-_HTfbjn0J7OdKofPwDrQYBrU_UEpfVBqwSqXD8AR99d2z3vE5hew-f3Kn05XvjRRhM9k48YWJufoX1qgcM4gV_tKnuY0rm-iELcvaYa28romSjoEr5XBNBg0qikPyXyN5wIJWxtNlVM3rKwpjT3l3LnvxgNyWPaHWbH1q7iwI-_V72TmI9eiGa558Ot-BBF_iXuebuMxu2tq8ojh-Xvw0d4yUAg4ThFDhUlXabBEM8IGvsTwDOxdLnj7O6M-Tc1Mnt40Vc826KOC8JtFUg1GlGXddnbRahzwOcdOy6WmIe1BITPXWq7IMPaafEEr46_3Zjye8QQA-RF967PaWojeDTXqj_6Y6diD8_wQBMYse-whgDs1IJy9DNLheZgSZg4mtgO4MUYJN7h7yJKnmXt2WsSN6uhWVajwrByxRi10xwGrUXDA7Cqd9yBBJlsTTEKuywMPJqIVLkXvgWOyC9dKUGIpvBh-MenHvnvprYOjUePrBP-Mzahz1W00]--></g></svg>